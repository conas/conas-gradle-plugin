plugins {
    id 'java-gradle-plugin'
    id 'groovy'
    id 'maven'
    id 'idea'
}

repositories {
    mavenCentral()
    jcenter()
}

group 'com.conas'
sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile 'org.yaml:snakeyaml:1.20'
    compile 'com.squareup.retrofit2:retrofit:2.4.0'
    compile 'com.squareup.retrofit2:converter-scalars:2.4.0'
    compile 'com.squareup.okhttp3:logging-interceptor:3.9.0'
    compile 'io.swagger:swagger-codegen:2.3.1'
    compile ('org.jfrog.buildinfo:build-info-extractor-gradle:4.7.0') {
        exclude module: 'groovy-all'
    }
}

idea {
    project {
        jdkName = sourceCompatibility
        languageLevel = targetCompatibility
        vcs = 'Git'
    }
}

gradlePlugin {
    plugins {
        conas {
            id='conas'
            implementationClass='com.conas.gradle.ConasPlugin'
        }

        conasDependency {
            id='conas.dependency'
            implementationClass='com.conas.gradle.ConasDependencyPlugin'
        }

        conasIdea {
            id='conas.idea'
            implementationClass='com.conas.gradle.ConasIdeaPlugin'
        }

        conasOpenApi {
            id='conas.openApi'
            implementationClass='com.conas.gradle.openapi.ConasOpenApiPlugin'
        }

        conasRelease {
            id='conas.release'
            implementationClass='com.conas.gradle.ConasReleasePlugin'
        }

        conasSourcesJar {
            id='conas.sources'
            implementationClass='com.conas.gradle.sources.ConasSourcesJarPlugin'
        }

        conasJavadocJar{
            id='conas.sources'
            implementationClass='com.conas.gradle.sources.ConasJavadocJarPlugin'
        }
    }
}